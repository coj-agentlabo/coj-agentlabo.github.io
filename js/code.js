"use strict";$(function(){function t(){if(c){c=!1;var t=!0,e={uk:uk,code:[]};if($('input[type="text"]').each(function(n){var o=$(this).val();4!==o.length&&(t=!1),e.code[n]=o}),!t)return void(c=!0);e.code=JSON.stringify(e.code),$.ajax({url:"/code_input",contentType:"application/json",dataType:"json",data:JSON.stringify(e),type:"POST",timeout:2e4,success:function(t){var e="";if(t.status===constant.responseStatus.SUCCESS)e=t.message;else if(t.status===o.INVALID_CODE)e=i.INVALID_CODE;else{if(t.status!==o.LIMIT_ERROR)return void n.error(t.status);e=i.LIMIT_ERROR}(new CommonDialogClass).DisplayDialog(e,{close:!0})},error:function(){n.error(constant.responseStatus.EXCEPTION_ERROR)}}),$("#code_input_area :button").focus()}}function e(){location.reload()}var n=new commonClass,o={INVALID_CODE:"INVALID_CODE",LIMIT_ERROR:"LIMIT_ERROR"},i={INVALID_CODE:"コードの認証に失敗しました。<br>入力内容を再確認してください。",LIMIT_ERROR:"コード入力の回数制限に達しました。<br>制限が解除されるまでの間、時間を置いて<br>再度コード入力を行なって下さい。"},a={tab:9,enter:13,backSpace:8,left:37,right:39};$(':input[type="text"]').on("mousewheel",function(){$(this).blur()}),$("#authentication_bt").on("click",t),$("#common_popup_close").on("click",e),deviceInfo.isMobile&&n.mobileBtnHover($("#authentication_bt"));for(var s=0;s<5;s++)$('input[name="code_'+(s+1)+'"]').val("");$("body").keypress(function(e){if(e.which==a.enter)return t(),!1}),$('input[type="text"]').keydown(function(t){var e=$(this),n=Number(e.attr("name").split("_",2)[1]),o=n+1,i=n-1,s=$('input[name="code_'+o+'"]'),c=$('input[name="code_'+i+'"]'),r=e.val();r.length>4&&e.val(r.substr(0,4)),t.shiftKey&&t.keyCode==a.tab||t.keyCode==a.tab||t.keyCode==a.left||t.keyCode==a.right||(t.keyCode==a.backSpace?0==r.length&&c.focus():r.length>3&&n<5&&s.focus())});var c=!0});